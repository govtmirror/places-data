<?xml version="1.0" encoding="utf-8"?>
<!DOCTYPE Map[]>
<Map srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">

<Parameters>
  <Parameter name="attribution"><![CDATA[National Park Service]]></Parameter>
  <Parameter name="center">-125.1563,54.1624,2</Parameter>
  <Parameter name="description"><![CDATA[Boundaries of the National Parks]]></Parameter>
  <Parameter name="format">pbf</Parameter>
  <Parameter name="json"><![CDATA[{"vector_layers":[{"id":"nps_places_internal_polygons","description":"NPS park polygons","fields":{"unit_id":"Number","min_zoom_poly":"Number","min_zoom_border":"Number","min_zoom_tint_band":"Number","unit_code":"String"}},{"id":"nps_places_internal_lines","description":"Line geometry for parks","fields":{"unit_id":"Number","min_zoom_poly":"Number","unit_code":"String","unit_name_short":"String","unit_name_long":"String","unit_desig_abbr":"String","unit_desig_full":"String","min_zoom_border":"Number","min_zoom_tint_band":"Number","min_zoom_label_short":"Number","min_zoom_label_long":"Number","min_zoom_label_center":"Number"}},{"id":"nps_places_internal_points","description":"Points for places boundares","fields":{"unit_id":"Number","unit_code":"String","ldir":"String","min_zoom_poly":"Number","unit_name_short":"String","unit_name_long":"String","unit_desig_abbr":"String","unit_desig_full":"String","unit_urban":"Number","unit_simplification":"String","min_zoom_label_short":"Number","min_zoom_label_long":"Number","min_zoom_label_center":"Number"}},{"id":"nps_great_lakes_large","description":"nps_great_lakes_large","fields":{"ogc_fid":"Name of the Lake","name":"String"}},{"id":"nps_great_lakes_small","description":"nps_great_lakes_small","fields":{"ogc_fid":"Number","name":"Name of the Lake"}}]}]]></Parameter>
  <Parameter name="maxzoom">14</Parameter>
  <Parameter name="minzoom">0</Parameter>
  <Parameter name="name"><![CDATA[nps_places_internal]]></Parameter>
</Parameters>


<Layer name="nps_places_internal_polygons"
  buffer-size="32"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[places_boundaries]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geom_poly]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[boundaries]]></Parameter>
       <Parameter name="host"><![CDATA[localhost]]></Parameter>
       <Parameter name="key_field"><![CDATA[unit_id]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[postgres]]></Parameter>
       <Parameter name="port"><![CDATA[5432]]></Parameter>
       <Parameter name="srid"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[( 
SELECT   "boundaries"."unit_id",
         CASE WHEN
           z(!scale_denominator!) >= "boundaries"."min_zoom_poly"
         THEN
           CASE
             WHEN  z(!scale_denominator!) = 0 THEN "geom_poly_simp"."geom_poly_0"
             WHEN  z(!scale_denominator!) = 1 THEN "geom_poly_simp"."geom_poly_1"
             WHEN  z(!scale_denominator!) = 2 THEN "geom_poly_simp"."geom_poly_2"
             WHEN  z(!scale_denominator!) = 3 THEN "geom_poly_simp"."geom_poly_3"
             WHEN  z(!scale_denominator!) = 4 THEN "geom_poly_simp"."geom_poly_4"
             WHEN  z(!scale_denominator!) = 5 THEN "geom_poly_simp"."geom_poly_5"
             WHEN  z(!scale_denominator!) = 6 THEN "geom_poly_simp"."geom_poly_6"
             WHEN  z(!scale_denominator!) = 7 THEN "geom_poly_simp"."geom_poly_7"
             WHEN  z(!scale_denominator!) = 8 THEN "geom_poly_simp"."geom_poly_8"
             WHEN  z(!scale_denominator!) = 9 THEN "geom_poly_simp"."geom_poly_9"
             WHEN  z(!scale_denominator!) = 10 THEN "geom_poly_simp"."geom_poly_10"
             WHEN  z(!scale_denominator!) = 11 THEN "geom_poly_simp"."geom_poly_11"
             WHEN  z(!scale_denominator!) = 12 THEN "geom_poly_simp"."geom_poly_12"
             WHEN  z(!scale_denominator!) = 13 THEN "geom_poly_simp"."geom_poly_13"
             ELSE "geom_poly_simp"."geom_poly"
           END
          ELSE
           null
         END as "geom_poly",
         "boundaries"."min_zoom_poly",
         "boundaries"."min_zoom_border",
         "boundaries"."min_zoom_tint_band",
         "boundaries"."unit_code"
FROM     "boundaries"
JOIN
  "geom_poly_simp" ON "boundaries"."unit_code" = "geom_poly_simp"."unit_code"
ORDER BY "boundaries"."unit_area" DESC) as data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[postgres]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="nps_places_internal_lines"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[places_boundaries]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geom_line]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[boundaries]]></Parameter>
       <Parameter name="host"><![CDATA[localhost]]></Parameter>
       <Parameter name="key_field"><![CDATA[unit_id]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[postgres]]></Parameter>
       <Parameter name="port"><![CDATA[5432]]></Parameter>
       <Parameter name="srid"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[(
SELECT    "boundaries"."unit_id",
          CASE WHEN
            z(!scale_denominator!) >= "boundaries"."min_zoom_poly"
          THEN
            CASE
              WHEN  z(!scale_denominator!) = 0 THEN "geom_line_simp"."geom_line_1"
              WHEN  z(!scale_denominator!) = 1 THEN "geom_line_simp"."geom_line_2"
              WHEN  z(!scale_denominator!) = 2 THEN "geom_line_simp"."geom_line_3"
              WHEN  z(!scale_denominator!) = 3 THEN "geom_line_simp"."geom_line_4"
              WHEN  z(!scale_denominator!) = 4 THEN "geom_line_simp"."geom_line_5"
              WHEN  z(!scale_denominator!) = 5 THEN "geom_line_simp"."geom_line_6"
              WHEN  z(!scale_denominator!) = 6 THEN "geom_line_simp"."geom_line_7"
              WHEN  z(!scale_denominator!) = 7 THEN "geom_line_simp"."geom_line_8"
              WHEN  z(!scale_denominator!) = 8 THEN "geom_line_simp"."geom_line_9"
              WHEN  z(!scale_denominator!) = 9 THEN "geom_line_simp"."geom_line_10"
              WHEN  z(!scale_denominator!) = 10 THEN "geom_line_simp"."geom_line_11"
              WHEN  z(!scale_denominator!) = 11 THEN "geom_line_simp"."geom_line_12"
              WHEN  z(!scale_denominator!) = 12 THEN "geom_line_simp"."geom_line_13"
              WHEN  z(!scale_denominator!) = 13 THEN "geom_line_simp"."geom_line_14"
              ELSE "geom_line_simp"."geom_line"
            END
           ELSE
            null
          END as "geom_line",
          "boundaries"."min_zoom_poly",
          "boundaries"."unit_code",
          "boundaries"."unit_name_short",
          "boundaries"."unit_name_long",
          "boundaries"."unit_desig_abbr",
          "boundaries"."unit_desig_full",
          "boundaries"."min_zoom_border",
          "boundaries"."min_zoom_tint_band",
          "boundaries"."min_zoom_label_short",
          "boundaries"."min_zoom_label_long",
          "boundaries"."min_zoom_label_center"
 FROM     "boundaries"
 JOIN     "geom_line_simp" ON "boundaries"."unit_id" = "geom_line_simp"."unit_id"
 ORDER BY "boundaries"."unit_area" DESC) as data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[postgres]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="nps_places_internal_points"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[places_boundaries]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[geom_point]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[boundaries]]></Parameter>
       <Parameter name="host"><![CDATA[localhost]]></Parameter>
       <Parameter name="key_field"><![CDATA[unit_id]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[postgres]]></Parameter>
       <Parameter name="port"><![CDATA[5432]]></Parameter>
       <Parameter name="srid"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[(
SELECT   "boundaries"."unit_id",
         "boundaries"."unit_code",
         "boundaries"."ldir",
         "boundaries"."min_zoom_poly",
         "boundaries"."unit_name_short",
         "boundaries"."unit_name_long",
         "boundaries"."unit_desig_abbr",
         "boundaries"."unit_desig_full",
         "boundaries"."unit_urban",
         "boundaries"."unit_simplification",
         "boundaries"."min_zoom_label_short",
         "boundaries"."min_zoom_label_long",
         "boundaries"."min_zoom_label_center",
         "boundaries"."geom_point"
FROM     "boundaries"
ORDER BY "boundaries"."unit_area" DESC) as data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[postgres]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="nps_great_lakes_large"
  buffer-size="8"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[data_import_3]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[wkb_geometry]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[great_lakes_large]]></Parameter>
       <Parameter name="host"><![CDATA[localhost]]></Parameter>
       <Parameter name="key_field"><![CDATA[ogc_fid]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[postgres]]></Parameter>
       <Parameter name="port"><![CDATA[5432]]></Parameter>
       <Parameter name="srid"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[(SELECT 
           ogc_fid,
           name,
           wkb_geometry
         FROM great_lakes_large
         WHERE 
            wkb_geometry && !bbox! AND
         z(!scale_denominator!) >= 8 AND z(!scale_denominator!) <= 12) as data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[postgres]]></Parameter>
    </Datasource>
  </Layer>

<Layer name="nps_great_lakes_small"
  buffer-size="64"
  srs="+proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over">
    
    <Datasource>
       <Parameter name="dbname"><![CDATA[data_import_3]]></Parameter>
       <Parameter name="extent"><![CDATA[-20037508.34,-20037508.34,20037508.34,20037508.34]]></Parameter>
       <Parameter name="geometry_field"><![CDATA[wkb_geometry]]></Parameter>
       <Parameter name="geometry_table"><![CDATA[great_lakes_small]]></Parameter>
       <Parameter name="host"><![CDATA[localhost]]></Parameter>
       <Parameter name="key_field"><![CDATA[ogc_fid]]></Parameter>
       <Parameter name="max_size"><![CDATA[512]]></Parameter>
       <Parameter name="password"><![CDATA[postgres]]></Parameter>
       <Parameter name="port"><![CDATA[5432]]></Parameter>
       <Parameter name="srid"><![CDATA[]]></Parameter>
       <Parameter name="table"><![CDATA[(SELECT 
           ogc_fid,
           name,
           wkb_geometry
         FROM great_lakes_small
         WHERE 
           wkb_geometry && !bbox! AND
         z(!scale_denominator!) >= 4 AND z(!scale_denominator!) <= 7) as data]]></Parameter>
       <Parameter name="type"><![CDATA[postgis]]></Parameter>
       <Parameter name="user"><![CDATA[postgres]]></Parameter>
    </Datasource>
  </Layer>

</Map>