_prefs: 
  disabled: []
  inspector: false
  mapid: nps.nps-places-reference
  rev: s-faaf800c
  saveCenter: true
attribution: National Park Service
center: 
  - -108.2813
  - 38.2382
  - 5
description: Boundaries of the National Parks
Layer: 
  - id: nps_places_reference_polygons
    Datasource: 
      dbname: places_boundaries
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geom_poly
      geometry_table: geom_poly_simp
      host: localhost
      key_field: unit_id
      key_field_as_attribute: ''
      max_size: 512
      password: postgres
      port: 5432
      srid: ''
      table: |-
        ( 
        SELECT   "parks"."unit_id",
                 "parks"."unit_code",
          "parks"."min_zoom_poly",
                 "parks"."min_zoom_border"  <= z(!scale_denominator!) as "show_border",
                 "parks"."min_zoom_tint_band"  <= z(!scale_denominator!) as "show_tint_band",
                 CASE WHEN
                   z(!scale_denominator!) >= "parks"."min_zoom_poly"
                 THEN
                   CASE
                     WHEN  z(!scale_denominator!) = 0 THEN "geom_poly_simp"."geom_poly_0"
                     WHEN  z(!scale_denominator!) = 1 THEN "geom_poly_simp"."geom_poly_1"
                     WHEN  z(!scale_denominator!) = 2 THEN "geom_poly_simp"."geom_poly_2"
                     WHEN  z(!scale_denominator!) = 3 THEN "geom_poly_simp"."geom_poly_3"
                     WHEN  z(!scale_denominator!) = 4 THEN "geom_poly_simp"."geom_poly_4"
                     WHEN  z(!scale_denominator!) = 5 THEN "geom_poly_simp"."geom_poly_5"
                     WHEN  z(!scale_denominator!) = 6 THEN "geom_poly_simp"."geom_poly_6"
                     WHEN  z(!scale_denominator!) = 7 THEN "geom_poly_simp"."geom_poly_7"
                     WHEN  z(!scale_denominator!) = 8 THEN "geom_poly_simp"."geom_poly_8"
                     WHEN  z(!scale_denominator!) = 9 THEN "geom_poly_simp"."geom_poly_9"
                     WHEN  z(!scale_denominator!) = 10 THEN "geom_poly_simp"."geom_poly_10"
                     WHEN  z(!scale_denominator!) = 11 THEN "geom_poly_simp"."geom_poly_11"
                     WHEN  z(!scale_denominator!) = 12 THEN "geom_poly_simp"."geom_poly_12"
                     WHEN  z(!scale_denominator!) = 13 THEN "geom_poly_simp"."geom_poly_13"
                     ELSE "geom_poly_simp"."geom_poly"
                   END
                  ELSE
                   null
                 END as "geom_poly"
        FROM     "geom_poly_simp" JOIN "parks" ON
                 "parks"."unit_id" = "geom_poly_simp"."unit_id"
        WHERE
          "geom_poly_simp"."geom_poly" && !bbox! AND
          "parks"."min_zoom_poly"  <= z(!scale_denominator!) AND
          "geom_poly_simp"."geom_poly" IS NOT NULL
        ORDER BY "parks"."unit_area" DESC) as data
      type: postgis
      user: postgres
    description: NPS park polygons
    fields: 
      min_zoom_poly: Number
      show_border: Boolean
      show_tint_band: Boolean
      unit_code: String
      unit_id: Number
    properties: 
      "buffer-size": 4
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: nps_places_reference_lines
    Datasource: 
      dbname: places_boundaries
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geom_line
      geometry_table: geom_line_simp
      host: localhost
      key_field: unit_id
      key_field_as_attribute: ''
      max_size: 512
      password: postgres
      port: 5432
      srid: ''
      table: |-
        (
        SELECT    "parks"."unit_id",
                  "parks"."unit_code",
                  "parks"."unit_name_short" || ' ' || "parks"."unit_desig_abbr" AS "unit_name_short",
                  "parks"."unit_name_long" || ' ' || "parks"."unit_desig_full" AS "unit_name_long",
                  "parks"."min_zoom_poly"  <= z(!scale_denominator!)  as "show_poly",
                  "parks"."min_zoom_label" <= z(!scale_denominator!) AND "parks"."max_zoom_label" >= z(!scale_denominator!) as "show_label",
                  "parks"."min_zoom_label_long"<= z(!scale_denominator!) as "label_long",
                  "parks"."min_zoom_label_center" <= z(!scale_denominator!) as "label_center",
                  CASE WHEN
                    "parks"."min_zoom_poly" <= z(!scale_denominator!)
                  THEN
                    CASE
                      WHEN  z(!scale_denominator!) = 0 THEN "geom_line_simp"."geom_line_0"
                      WHEN  z(!scale_denominator!) = 1 THEN "geom_line_simp"."geom_line_1"
                      WHEN  z(!scale_denominator!) = 2 THEN "geom_line_simp"."geom_line_2"
                      WHEN  z(!scale_denominator!) = 3 THEN "geom_line_simp"."geom_line_3"
                      WHEN  z(!scale_denominator!) = 4 THEN "geom_line_simp"."geom_line_4"
                      WHEN  z(!scale_denominator!) = 5 THEN "geom_line_simp"."geom_line_5"
                      WHEN  z(!scale_denominator!) = 6 THEN "geom_line_simp"."geom_line_6"
                      WHEN  z(!scale_denominator!) = 7 THEN "geom_line_simp"."geom_line_7"
                      WHEN  z(!scale_denominator!) = 8 THEN "geom_line_simp"."geom_line_8"
                      WHEN  z(!scale_denominator!) = 9 THEN "geom_line_simp"."geom_line_9"
                      WHEN  z(!scale_denominator!) = 10 THEN "geom_line_simp"."geom_line_10"
                      WHEN  z(!scale_denominator!) = 11 THEN "geom_line_simp"."geom_line_11"
                      WHEN  z(!scale_denominator!) = 12 THEN "geom_line_simp"."geom_line_12"
                      WHEN  z(!scale_denominator!) = 13 THEN "geom_line_simp"."geom_line_13"
                      ELSE "geom_line_simp"."geom_line"
                    END
                   ELSE
                    null
                  END as "geom_line"
         FROM     "geom_line_simp"
         JOIN     "parks" ON "parks"."unit_id" = "geom_line_simp"."unit_id"
         WHERE    "geom_line_simp"."geom_line" && !bbox! AND
                  "parks"."min_zoom_poly" <= z(!scale_denominator!) AND
                  "geom_line_simp"."geom_line" IS NOT NULL
         ORDER BY "parks"."unit_area" DESC) as data
      type: postgis
      user: postgres
    description: Line geometry for parks
    fields: 
      label_center: Boolean
      label_long: Boolean
      show_label: Boolean
      show_poly: Boolean
      unit_code: String
      unit_id: Number
      unit_name_long: String
      unit_name_short: String
    properties: 
      "buffer-size": 4
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: nps_places_reference_points
    Datasource: 
      dbname: places_boundaries
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: geom_point
      geometry_table: parks
      host: localhost
      key_field: unit_id
      key_field_as_attribute: ''
      max_size: 512
      password: postgres
      port: 5432
      srid: ''
      table: |-
        (
        SELECT   "parks"."unit_id",
                 "parks"."unit_code",
                 "parks"."unit_name_short" || ' ' || COALESCE("parks"."unit_desig_abbr", '') AS "unit_name_short",
                 "parks"."unit_name_long" || ' ' || COALESCE("parks"."unit_desig_full", '') AS "unit_name_long",
                 "parks"."ldir_enforce",
                 "parks"."ldir",
                 "parks"."min_zoom_poly"  <= z(!scale_denominator!)  as "show_poly",
                 "parks"."min_zoom_label" <= z(!scale_denominator!) AND "parks"."max_zoom_label" >= z(!scale_denominator!) as "show_label",
                 "parks"."min_zoom_label_long"<= z(!scale_denominator!) as "label_long",
                 "parks"."min_zoom_label_center" <= z(!scale_denominator!) as "label_center",
                 "parks"."min_zoom_simp" <= z(!scale_denominator!) as "show_simp",
                 "parks"."simp_type",
                 "parks"."geom_point"
        FROM     "parks"
        WHERE    
                  "parks"."geom_point" && !bbox! AND
                  "parks"."geom_point" IS NOT NULL
        ORDER BY "parks"."unit_area" DESC) as data
      type: postgis
      user: postgres
    description: Points for places boundaries
    fields: 
      label_center: Boolean
      label_long: Boolean
      ldir: String
      ldir_enforce: Boolean
      show_label: Boolean
      show_poly: Boolean
      show_simp: Boolean
      simp_type: String
      unit_code: String
      unit_id: Number
      unit_name_long: String
      unit_name_short: String
    properties: 
      "buffer-size": 64
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: nps_great_lakes_large
    Datasource: 
      dbname: data_import_3
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: wkb_geometry
      geometry_table: great_lakes_large
      host: localhost
      key_field: ogc_fid
      key_field_as_attribute: ''
      max_size: 512
      password: postgres
      port: 5432
      srid: ''
      table: |-
        (SELECT 
                   ogc_fid,
                   name,
                   wkb_geometry
                 FROM great_lakes_large
                 WHERE 
                    wkb_geometry && !bbox! AND
                 z(!scale_denominator!) >= 8 AND z(!scale_denominator!) <= 12) as data
      type: postgis
      user: postgres
    description: nps_great_lakes_large
    fields: 
      name: String
      ogc_fid: Name of the Lake
    properties: 
      "buffer-size": 64
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
  - id: nps_great_lakes_small
    Datasource: 
      dbname: data_import_3
      extent: -20037508.34,-20037508.34,20037508.34,20037508.34
      geometry_field: wkb_geometry
      geometry_table: great_lakes_small
      host: localhost
      key_field: ogc_fid
      key_field_as_attribute: ''
      max_size: 512
      password: postgres
      port: 5432
      srid: ''
      table: |-
        (SELECT 
                   ogc_fid,
                   name,
                   wkb_geometry
                 FROM great_lakes_small
                 WHERE 
                   wkb_geometry && !bbox! AND
                 z(!scale_denominator!) >= 4 AND z(!scale_denominator!) <= 7) as data
      type: postgis
      user: postgres
    description: nps_great_lakes_small
    fields: 
      name: Name of the Lake
      ogc_fid: Number
    properties: 
      "buffer-size": 64
    srs: +proj=merc +a=6378137 +b=6378137 +lat_ts=0.0 +lon_0=0.0 +x_0=0.0 +y_0=0.0 +k=1.0 +units=m +nadgrids=@null +wktext +no_defs +over
maxzoom: 14
minzoom: 4
name: nps_places_reference
